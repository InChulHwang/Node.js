# Server

![server](https://github.com/SKKUMathcom/Node.js/blob/master/image/http2-server-push-2.png)

*출처:https://blog.cloudflare.com/announcing-support-for-http-2-server-push-2/

우리가 보는 인터넷 홈페이지의 통신방식은 위의 사진과 같다. Client (Browser, etc) 즉, 사용자가 네트워크를 통해 외부의 단말기로 부터 데이터를 요구하는데 이 때 데이터가 요구되는 단말기를 (서버)Server 라고 한다.

서버 단말기에는 HTTP를 사용하여 외부의 요청을 처리하는 프로세스가 존재하고, 이 프로세스는 서버내의 데이터베이스에서 데이터를 받아 데이터를 가공해 외부 client로 전송한다.

이때 데이터를 주고 받는 형식을 protocol(통신규약) 이라고 한다. 흔히들 말하는 IP는 Internet Protocol의 약자!!

# protocol

프로토콜은 네트워크를 통해 데이터를 주고받는 통신규약으로 대표적인 프로토콜은 아래 두가지가 있다.

** FTP(File Transfer Protocol): 네트워크를 통해 파일을 주고 받을 때의 통신규약. 우리가 파일을 받을 때에 잘 살펴보면 http://이 아닌 ftp: 로 되어있다.

** HTTP(HyperText Transfer Protocol): 네트워클 통해 HyperText를 주고받을 때의 통신규약.

웹페이지를 열 때에 사용되는게 HTTP 인데 여기서 HyperText란 특정 키워드를 이용해 문서간의 글자, 그림을 유기적으로 연동시켜 하나의 문서처럼 참조할 수 있게 하는 방식을 의미한다.

단순하게 말해 코드뭉치라고 보면된다.

가장 많이 쓰이는 HyperText가 우리가 홈페이지를 구축한다고 어릴 때 배운 HTML이다. 웹문서는 보통 HTML과 CSS, 이에 필요한 이미지를 통해 생성이 되며, HTML을 개량한게 XML이다.

그럼 Node.js에서 js를 의미하는 자바스크립트는 뭐냐.

그 전에 script language에 대해 알아보자.

# Script Language

동적 웹페이지를 만들기 위해서는 HTML을 사용자의 요청에 따라 유기적으로 변경시켜 줘야 하는데 이에 사용되는 언어가 script language이다.

일반적으로 사용되는 perl, python, Ruby등은 서버에서 HTML을 처리하는데, 이와 달리 Java Script는 사용자의 브라우저에 내장되어 서버에서 데이터만 보내면 client쪽에 내장되어 client의 단말기에서 HyperText를 변동한다.

이러면 서버의 부담이 줄어들어 데이터 처리속도가 빨라 요새는 Java Script가 핫함.

# 서버의 유형

우리가 스터디를 할 Do it Node.js에서 다루는 서버는 크게 웹서버, 채팅서버, JSON-RPC서버, 위치기반 서비스서버, 모바일서버 로 5가지이다.

## 웹서버

웹서버는 가장 기본이 되는 서버이다. 웹서버에서는 익스프레스를 이용하여 프레임워크(웹에서 어떤 기능을 하기 위해 만들어 놓은 틀)를 만들고, 연결된 데이터베이스(여기서는 몽고DB를 사용)에서 데이터를 저장, 조회한다.

또한 뷰템플릿(View Templete)을 통해 웹페이지의 시각적인 기본구조를 구성한다. 또한 웹서버에서는 여러 client들이 동시다발적으로 접속하기 때문에 접속권한을 가진 사용자를 패스포트(PassPort)라는 모듈을 통해 ID, 패스워드를 이용하여 구분한다.

## 채팅서버

채팅서버는 실시간 채팅기능을 제공한다. 자세한 내용은 10장에서 배운다고함.

## JSON-RPC 서버

JSON-RPC서버는 서버쪽에 함수를 만들어두고 클라이언트쪽에서 이 함수를 실행시켜 데이터를 연산, 호출하는 방식. 주로 웹문서가 아닌 데이터만 주고받을 때에 사용하는 방식이다. 자세한 내용은 11장에서..

## 위치기반서비스서버

위치기반서비스서버는 위치정보를 클라이언트에서 서버로 전송하고, 서버에서 다른 클라이언트의 위치정보를 제공하는 기능.

위치정보는 공간데이터(Spatial Data)라고도 하며, 공간인덱싱(Spatial Indexing: 데이터베이스에서 2차원 공간데이터를 빠르게 조회하기 위해 만든 인덱싱방법)을 이용하여, 데이터베이스에서 위치정보를 조회하여 전송한다.

자세한 정보는 12장에서

## 모바일서버

모바일 서버는 모바일 단말기에서 필요한 기능을 제공하는 서버로, 앱에서 모바일 단말기의 정보를 요구하거나, 단말기로 푸시메세지를 보낼 때에 사용.(다른 웬만한거는 웹서버나 이런거 사용)

13장에서 배움.

